@tailwind base;
@tailwind components;
@tailwind utilities;

/* Font Face Declarations */
@font-face {
  font-family: 'Baron Neue';
  src: url('./assets/fonts/baron-neue.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Baron Neue';
  src: url('./assets/fonts/baron-neue-bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Apercu';
  src: url('./assets/fonts/apercu-regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Apercu';
  src: url('./assets/fonts/apercu-light.otf') format('opentype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(20, 14.3%, 4.1%);
  --muted: hsl(60, 4.8%, 95.9%);
  --muted-foreground: hsl(25, 5.3%, 44.7%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(20, 14.3%, 4.1%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(20, 14.3%, 4.1%);
  --border: hsl(20, 5.9%, 90%);
  --input: hsl(20, 5.9%, 90%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(60, 4.8%, 95.9%);
  --secondary-foreground: hsl(24, 9.8%, 10%);
  --accent: hsl(60, 4.8%, 95.9%);
  --accent-foreground: hsl(24, 9.8%, 10%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(60, 9.1%, 97.8%);
  --ring: hsl(20, 14.3%, 4.1%);
  --radius: 0.5rem;
  
  /* Custom colors for the portfolio */
  --sollo-red: hsl(358, 69%, 50%);
  --sollo-gold: hsl(39, 100%, 44%);
  --gray-30: hsl(0, 0%, 70%);
  --gray-50: hsl(0, 0%, 50%);
}

.dark {
  --background: hsl(240, 10%, 3.9%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 3.7%, 15.9%);
  --muted-foreground: hsl(240, 5%, 64.9%);
  --popover: hsl(240, 10%, 3.9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 3.9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 3.7%, 15.9%);
  --input: hsl(240, 3.7%, 15.9%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(240, 3.7%, 15.9%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(240, 3.7%, 15.9%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(240, 4.9%, 83.9%);
  --radius: 0.5rem;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: 'Apercu', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
  
  /* Baron Neue for headings */
  .font-baron {
    font-family: 'Baron Neue', 'Arial Black', sans-serif;
    font-weight: 400;
    letter-spacing: 0.1em;
  }
  
  /* Apercu for body text */
  .font-apercu {
    font-family: 'Apercu', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    line-height: 1.7;
  }
  
  /* Subtle texture overlay */
  .texture-overlay::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><defs><filter id="noiseFilter"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" stitchTiles="stitch"/><feColorMatrix in="colorNoise" type="saturate" values="0"/></filter></defs><rect width="100%" height="100%" filter="url(%23noiseFilter)" opacity="0.02"/></svg>');
    pointer-events: none;
    mix-blend-mode: multiply;
    z-index: -1;
  }
  
  /* Custom colors */
  .text-sollo-red {
    color: var(--sollo-red);
  }
  
  .text-sollo-gold {
    color: var(--sollo-gold);
  }
  
  .bg-sollo-red {
    background-color: var(--sollo-red);
  }
  
  .bg-sollo-gold {
    background-color: var(--sollo-gold);
  }
  
  .border-sollo-red {
    border-color: var(--sollo-red);
  }
  
  .border-sollo-gold {
    border-color: var(--sollo-gold);
  }

  /* Editor.js image styles - ensure images display at their actual dimensions */
  .ce-block__content .image-tool img,
  .cdx-block .image-tool img {
    max-width: 100% !important;
    height: auto !important;
    width: auto !important;
    display: block;
    margin: 0 auto;
  }

  /* Case study content images */
  .prose img {
    max-width: 100% !important;
    height: auto !important;
    width: auto !important;
    display: block;
    margin: 0 auto;
  }

  /* Inline links in case study content */
  .prose a {
    color: #dc2626 !important;
    text-decoration: underline;
    transition: opacity 0.2s;
  }

  .prose a:hover {
    opacity: 0.8;
  }

  /* Editor.js container styles */
  .codex-editor__redactor {
    padding-bottom: 200px !important;
  }

  /* Image tool specific styles */
  .image-tool {
    text-align: center;
  }

  .image-tool img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  /* Editor.js Quote block styles - completely remove any boxes and ensure natural sizing */
  .cdx-quote,
  .cdx-quote *:not(.cdx-list):not(.cdx-list__item),
  .cdx-quote .ce-block,
  .cdx-quote .ce-block__content {
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    border-top: none !important;
    border-right: none !important;
    border-bottom: none !important;
    background: none !important;
    background-color: transparent !important;
    background-image: none !important;
    box-shadow: none !important;
    outline: none !important;
    border-radius: 0 !important;
    /* Ensure natural content-based sizing */
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
  }

  .cdx-quote {
    margin: 2rem 0 !important;
    padding: 0.1rem 0 0.1rem 2rem !important;
    border-left: 4px solid #dc2626 !important;
    font-style: italic !important;
    position: relative !important;
    /* Critical: Allow container to size naturally to its content */
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    display: block !important;
  }

  .cdx-quote__text {
    font-size: 1.125rem;
    line-height: 1.6;
    color: #333;
    margin: 0 0 0.5rem 0;
    border: none !important;
    outline: none !important;
  }

  .cdx-quote__caption {
    font-size: 0.875rem;
    color: #666;
    font-style: normal;
    font-weight: 500;
    border: none !important;
    outline: none !important;
  }

  .cdx-quote__caption:before {
    content: "— ";
  }

  /* Hide caption placeholder and editing interface in read-only quotes */
  .codex-editor--readonly .cdx-quote__caption:empty,
  .codex-editor .cdx-quote__caption:empty,
  .cdx-quote__caption:empty {
    display: none !important;
  }

  .codex-editor--readonly .cdx-quote__caption[data-placeholder]:empty::after,
  .codex-editor .cdx-quote__caption[data-placeholder]:empty::after,
  .cdx-quote__caption[data-placeholder]:empty::after,
  .cdx-quote__caption::after {
    display: none !important;
    content: none !important;
  }

  /* Hide all editor interface elements in read-only mode */
  .codex-editor--readonly .ce-block__content::before,
  .codex-editor--readonly .ce-block__content::after,
  .codex-editor--readonly [data-placeholder]:empty::after,
  .codex-editor .ce-block__content::before,
  .codex-editor .ce-block__content::after,
  .codex-editor [data-placeholder]:empty::after,
  [data-placeholder="Enter a caption"]:empty::after,
  [data-placeholder]:empty::after {
    display: none !important;
    content: none !important;
  }

  /* Specifically target quote caption placeholders */
  .cdx-quote [contenteditable="true"][data-placeholder]:empty::after,
  .cdx-quote [data-placeholder]:empty::after {
    display: none !important;
    content: none !important;
  }

  /* Remove editor outlines and hover effects */
  .codex-editor--readonly .ce-block:hover {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }

  .codex-editor--readonly .ce-block {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Editor.js Link tool styles */
  .cdx-link {
    margin: 1rem 0;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    overflow: hidden;
    text-decoration: none;
    display: block;
    transition: border-color 0.2s;
  }

  .cdx-link:hover {
    border-color: #dc2626;
    text-decoration: none;
  }

  .cdx-link__content {
    padding: 1rem;
  }

  .cdx-link__title {
    font-size: 1rem;
    font-weight: 600;
    color: #333;
    margin: 0 0 0.5rem 0;
    line-height: 1.4;
  }

  .cdx-link__description {
    font-size: 0.875rem;
    color: #666;
    line-height: 1.4;
    margin: 0 0 0.5rem 0;
  }

  .cdx-link__anchor {
    font-size: 0.75rem;
    color: #dc2626;
    text-decoration: none;
  }

  .cdx-link__image {
    width: 100%;
    height: 200px;
    object-fit: cover;
    background-color: #f5f5f5;
  }

  /* Editor.js List styles - force perfect alignment with paragraph text */
  .cdx-list {
    margin: 1rem 0 !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
  }

  .cdx-list--unordered .cdx-list__item,
  .cdx-list--ordered .cdx-list__item,
  .cdx-list__item {
    margin: 0.5rem 0 !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
    line-height: 1.6;
    position: relative;
    list-style: none;
  }

  /* Custom bullet points for unordered lists - positioned at paragraph start */
  .cdx-list--unordered .cdx-list__item::before {
    content: "•";
    position: absolute;
    left: 0;
    top: 0;
    color: #374151;
    font-weight: bold;
    font-size: 1.25rem;
    width: 1.2rem;
    display: inline-block;
  }

  .cdx-list--unordered .cdx-list__item {
    text-indent: 1.2rem;
  }

  /* Custom numbering for ordered lists - positioned at paragraph start */
  .cdx-list--ordered {
    counter-reset: list-counter;
  }

  .cdx-list--ordered .cdx-list__item {
    counter-increment: list-counter;
    text-indent: 1.5rem;
  }

  .cdx-list--ordered .cdx-list__item::before {
    content: counter(list-counter) ".";
    position: absolute;
    left: 0;
    top: 0;
    color: #374151;
    font-weight: bold;
    width: 1.5rem;
    text-align: left;
    display: inline-block;
  }

  /* Editor.js Code block styles */
  .cdx-code {
    background-color: #f5f5f5;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    padding: 1rem;
    margin: 1rem 0;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.875rem;
    overflow-x: auto;
  }

  /* Editor.js Delimiter styles */
  .cdx-delimiter {
    text-align: center;
    margin: 2rem 0;
  }

  .cdx-delimiter::before {
    content: "* * *";
    color: #ccc;
    font-size: 1.5rem;
    letter-spacing: 1rem;
  }

  /* General Editor.js block spacing */
  .codex-editor .ce-block {
    margin: 1rem 0;
  }

  .codex-editor .ce-block__content {
    max-width: none;
  }

  /* Ensure proper text formatting in editor blocks */
  .codex-editor .ce-paragraph {
    line-height: 1.6;
    margin: 1rem 0;
  }

  /* Handle inline markdown-style links in Editor.js content */
  .codex-editor .ce-paragraph a,
  .prose .ce-paragraph a {
    color: #dc2626 !important;
    text-decoration: underline;
    transition: opacity 0.2s;
  }

  .codex-editor .ce-paragraph a:hover,
  .prose .ce-paragraph a:hover {
    opacity: 0.8;
  }

  .image-tool__caption {
    margin-top: 8px;
    font-size: 14px;
    color: #666;
    font-style: italic;
  }

  /* Featured image in case study detail page - respect actual dimensions */
  .case-study-featured-image {
    max-width: 100% !important;
    height: auto !important;
    width: auto !important;
    display: inline-block;
  }
  
  .hover\:bg-sollo-red:hover {
    background-color: hsl(358, 69%, 45%);
  }
  
  .hover\:bg-sollo-gold:hover {
    background-color: hsl(39, 100%, 40%);
  }
  
  .hover\:text-sollo-red:hover {
    color: var(--sollo-red);
  }
  
  .hover\:text-sollo-gold:hover {
    color: var(--sollo-gold);
  }
  
  .hover\:border-sollo-red:hover {
    border-color: var(--sollo-red);
  }
  
  .hover\:border-sollo-gold:hover {
    border-color: var(--sollo-gold);
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: hsl(0, 0%, 95%);
}

::-webkit-scrollbar-thumb {
  background: hsl(0, 0%, 76%);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(0, 0%, 66%);
}